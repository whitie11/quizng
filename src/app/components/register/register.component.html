<div class="container">
  <mat-card class="login-card">
    <mat-card-title>Register New Player</mat-card-title>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="OnSubmit(form)" autocomplete="off">
        <div>
          <mat-form-field appearance="legacy">
            <mat-label>First Name:</mat-label>
            <input
              matInput
              type="text"
              formControlName="first_name"
              placeholder="Enter First Name"
              required
            />
            <mat-icon matSuffix></mat-icon>
            <mat-error *ngIf="form.controls['first_name'].hasError('required')"
              >First name is required</mat-error
            >
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="legacy">
            <mat-label>Last Name:</mat-label>
            <input
              matInput
              type="text"
              formControlName="last_name"
              placeholder="Enter Last Name"
              required
            />
            <mat-icon matSuffix></mat-icon>
            <mat-error *ngIf="form.controls['last_name'].hasError('required')"
              >Last name is required</mat-error
            >
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="legacy">
            <mat-label>User Name:</mat-label>
            <input
              matInput
              type="text"
              formControlName="username"
              placeholder="Enter Username"
              required
            />
            <mat-icon matSuffix></mat-icon>
            <mat-error *ngIf="form.controls['username'].hasError('required')"
              >Username is required</mat-error
            >
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="legacy">
            <mat-label>Email:</mat-label>
            <input
              matInput
              type="text"
              formControlName="email"
              placeholder="Email address"
              required
            />
            <mat-icon matSuffix></mat-icon>
            <mat-error *ngIf="form.controls['email'].hasError('required')"
              >Email is required to reset password</mat-error
            >
            <mat-error *ngIf="form.controls['email'].hasError('email')"
              >Email is not valid</mat-error
            >
          </mat-form-field>
        </div>




        <div>
          <mat-form-field appearance="standard">
            <mat-label>Password </mat-label>
            <input
              matInput
              [type]="flag ? 'password' : 'text'"
              placeholder="Enter your password"
              formControlName="password"
            />
            <mat-icon (click)="flag = !flag" matSuffix>{{
              flag ? "visibility" : "visibility_off"
            }}</mat-icon>
            <mat-error *ngIf="form.controls['password'].hasError('minlength')">
              Please enter more than 6 characters
            </mat-error>
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="standard">
            <mat-label>Repeat Password </mat-label>
            <input
              matInput
              [type]="flag ? 'password' : 'text'"
              placeholder="Repeat your password"
              formControlName="password2"
            />
            <mat-icon (click)="flag = !flag" matSuffix>{{
              flag ? "visibility" : "visibility_off"
            }}</mat-icon>
            <mat-error *ngIf="form.controls['password2'].hasError('minlength')">
              Please enter more than 6 characters
            </mat-error>
            <mat-error *ngIf="form.controls['password2'].hasError('not_the_same')">
              Passwords do not match!
            </mat-error>
          </mat-form-field>
        </div>


        <!-- <div>
                      <mat-error
              *ngIf="form.hasError('mismatchedPassword') &&
                (form.controls['password'].dirty ||
                  form.controls['password2'].touched)">
              Passwords do not match!
            </mat-error>
        </div> -->
        <div>{{ errorMsg }}</div>


      </form>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="accent" (click)="cancelReg()">Cancel</button>
       <button
            [disabled]="!form.valid"
            mat-raised-button
            color="primary"
            (click)="OnSubmit(form)"
          >
            Continue
          </button>
    </mat-card-actions>
  </mat-card>
</div>
